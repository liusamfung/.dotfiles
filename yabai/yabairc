#These two line below enable 'sudo modo' (Required to switch between spaces)
#WARNING: Anyway, please check documentacion
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# Load all the variables I need from the yabai_env.sh file
# source "/Users/liusam/.config/yabai/yabai_env.sh"

yabai -m config window_placement second_child
# yabai -m config mouse_modifier fn

yabai -m signal --add event=window_destroyed action="yabai -m query --windows --window &> /dev/null || yabai -m window --focus mouse"
yabai -m signal --add event=window_minimized action="yabai -m query --windows --window &> /dev/null || yabai -m window --focus mouse"
yabai -m signal --add event=application_hidden action="yabai -m query --windows --window &> /dev/null || yabai -m window --focus mouse"
yabai -m signal --add event=application_terminated action="yabai -m query --windows --window &> /dev/null || yabai -m window --focus mouse"

# yabai -m rule --add app="^.*$" manage=on sticker=off  space=^2
#
yabai -m rule --add app="^.*$"   space=^2 
yabai -m rule --add app="^kitty$"  space=^1

yabai -m config layout bsp
yabai -m space 1 --layout bsp
yabai -m space 2 --layout stack
yabai -m space 3 --layout bsp

yabai -m config top_padding 15
yabai -m config bottom_padding 35
yabai -m config left_padding 35
yabai -m config right_padding 35


yabai -m config window_gap 15 #Space between windows
# # yabai -m query --windows | grep app


yabai -m config external_bar all:$(sketchybar --query bar | jq .height):0 #https://github.com/FelixKratz/SketchyBar
borders active_color=0xff06B6D4 inactive_color=0xff494d64 width=7.0 &  #https://github.com/FelixKratz/JankyBorders
